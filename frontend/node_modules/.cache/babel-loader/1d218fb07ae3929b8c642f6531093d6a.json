{"ast":null,"code":"var _jsxFileName = \"/Users/rasmusmoller/Desktop/GameReview/src/components/ReviewComponent.js\",\n    _s = $RefreshSig$();\n\nimport { Component } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport ReviewService from \"../services/review.services\";\nimport { buildStyles, CircularProgressbar } from \"react-circular-progressbar\";\nimport AuthService from \"../services/auth.services\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ReviewComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.retrieveReview = this.retrieveReview.bind(this);\n    this.deleteReview = this.deleteReview.bind(this); //this.editReview = this.editReview.bind(this);\n\n    this.state = {\n      review: {},\n      isUser: false,\n      isStaff: false,\n      isAdmin: false,\n      currentUser: undefined\n    };\n  }\n\n  componentDidMount() {\n    const {\n      id\n    } = this.props.params;\n    this.retrieveReview(id);\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      this.setState({\n        currentUser: user,\n        isUser: user.roles.includes(\"ROLE_USER\"),\n        isStaff: user.roles.includes(\"ROLE_STAFF\"),\n        isAdmin: user.roles.includes(\"ROLE_ADMIN\")\n      });\n    }\n  }\n\n  retrieveReview(id) {\n    ReviewService.get(id).then(response => {\n      this.setState({\n        review: response.data\n      });\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  editReview(id) {}\n\n  deleteReview() {\n    const {\n      id\n    } = this.props.params;\n    const confirm = window.confirm(\"Are you sure you want delete this review?\");\n\n    if (confirm) {\n      ReviewService.delete(id).then(response => {\n        this.setState({\n          review: response.data\n        });\n        console.log(response.data);\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n  }\n\n  render() {\n    const {\n      review,\n      currentUser,\n      isAdmin,\n      isStaff,\n      isUser\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bimbom\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [isAdmin || isStaff && review.idUser === currentUser.id ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.editReview,\n          className: \"btn btn-primary delete-review-btn\",\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this) : \"\", isAdmin || isStaff && review.idUser === currentUser.id ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.deleteReview,\n          className: \"btn btn-danger delete-review-btn\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this) : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"review-container\",\n        children: review && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"full-review\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: review.image,\n            style: {\n              width: \"800px\",\n              height: \"400px\"\n            },\n            alt: \"img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"review-title\",\n            children: review.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"title-div\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: review.review\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rating-reasoning\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rr-left\",\n              children: /*#__PURE__*/_jsxDEV(CircularProgressbar, {\n                value: review.rating,\n                styles: buildStyles({\n                  textSize: \"40px\",\n                  textColor: \"black\",\n                  pathColor: \"#eb3c2d\"\n                }),\n                strokeWidth: 8,\n                maxValue: 10,\n                text: `${review.rating}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rr-right\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: review.ratingReasoning\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _s(props => {\n  _s();\n\n  return /*#__PURE__*/_jsxDEV(ReviewComponent, { ...props,\n    params: useParams()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 27\n  }, this);\n}, \"zmUErVVHtqqM6DIDQ9M8H17P2nM=\", false, function () {\n  return [useParams];\n});","map":{"version":3,"names":["Component","useParams","ReviewService","buildStyles","CircularProgressbar","AuthService","ReviewComponent","constructor","props","retrieveReview","bind","deleteReview","state","review","isUser","isStaff","isAdmin","currentUser","undefined","componentDidMount","id","params","user","getCurrentUser","setState","roles","includes","get","then","response","data","console","log","catch","e","editReview","confirm","window","delete","render","idUser","image","width","height","title","rating","textSize","textColor","pathColor","ratingReasoning"],"sources":["/Users/rasmusmoller/Desktop/GameReview/src/components/ReviewComponent.js"],"sourcesContent":["import { Component } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport ReviewService from \"../services/review.services\";\nimport { buildStyles, CircularProgressbar } from \"react-circular-progressbar\";\nimport AuthService from \"../services/auth.services\";\n\nclass ReviewComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.retrieveReview = this.retrieveReview.bind(this);\n    this.deleteReview = this.deleteReview.bind(this);\n    //this.editReview = this.editReview.bind(this);\n    this.state = {\n      review: {},\n      isUser: false,\n      isStaff: false,\n      isAdmin: false,\n      currentUser: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const { id } = this.props.params;\n    this.retrieveReview(id);\n\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      this.setState({\n        currentUser: user,\n        isUser: user.roles.includes(\"ROLE_USER\"),\n        isStaff: user.roles.includes(\"ROLE_STAFF\"),\n        isAdmin: user.roles.includes(\"ROLE_ADMIN\"),\n      });\n    }\n  }\n\n  retrieveReview(id) {\n    ReviewService.get(id)\n      .then((response) => {\n        this.setState({\n          review: response.data,\n        });\n        console.log(response.data);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }\n\n  editReview(id) {}\n\n  deleteReview() {\n    const { id } = this.props.params;\n    const confirm = window.confirm(\"Are you sure you want delete this review?\");\n    if (confirm) {\n      ReviewService.delete(id)\n        .then((response) => {\n          this.setState({\n            review: response.data,\n          });\n          console.log(response.data);\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    }\n  }\n\n  render() {\n    const { review, currentUser, isAdmin, isStaff, isUser } = this.state;\n    return (\n      <div className=\"bimbom\">\n        <div>\n          {isAdmin || (isStaff && review.idUser === currentUser.id) ? (\n            <button\n              onClick={this.editReview}\n              className=\"btn btn-primary delete-review-btn\"\n            >\n              Edit\n            </button>\n          ) : (\n            \"\"\n          )}\n          {isAdmin || (isStaff && review.idUser === currentUser.id) ? (\n            <button\n              onClick={this.deleteReview}\n              className=\"btn btn-danger delete-review-btn\"\n            >\n              Delete\n            </button>\n          ) : (\n            \"\"\n          )}\n        </div>\n        <div className=\"review-container\">\n          {review && (\n            <div className=\"full-review\">\n              <img\n                src={review.image}\n                style={{ width: \"800px\", height: \"400px\" }}\n                alt=\"img\"\n              ></img>\n\n              <h3 className=\"review-title\">{review.title}</h3>\n              <div className=\"title-div\">\n                <p>{review.review}</p>\n              </div>\n              <div className=\"rating-reasoning\">\n                <div className=\"rr-left\">\n                  <CircularProgressbar\n                    value={review.rating}\n                    styles={buildStyles({\n                      textSize: \"40px\",\n                      textColor: \"black\",\n                      pathColor: \"#eb3c2d\",\n                    })}\n                    strokeWidth={8}\n                    maxValue={10}\n                    text={`${review.rating}`}\n                  />\n                </div>\n                <div className=\"rr-right\">\n                  <p>{review.ratingReasoning}</p>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default (props) => <ReviewComponent {...props} params={useParams()} />;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}