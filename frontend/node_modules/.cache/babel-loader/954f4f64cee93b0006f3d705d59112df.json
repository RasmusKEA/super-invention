{"ast":null,"code":"var _jsxFileName = \"/Users/rasmusmoller/Desktop/super-invention/frontend/src/components/ReviewComponent.js\",\n    _s = $RefreshSig$();\n\nimport { Component } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport ReviewService from \"../services/review.services\";\nimport { buildStyles, CircularProgressbar } from \"react-circular-progressbar\";\nimport AuthService from \"../services/auth.services\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ReviewComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.retrieveReview = this.retrieveReview.bind(this);\n    this.deleteReview = this.deleteReview.bind(this);\n    this.editReview = this.editReview.bind(this);\n    this.state = {\n      review: {},\n      isUser: false,\n      isStaff: false,\n      isAdmin: false,\n      currentUser: undefined\n    };\n  }\n\n  componentDidMount() {\n    const {\n      id\n    } = this.props.params;\n    this.retrieveReview(id);\n    const user = AuthService.getCurrentUser();\n    console.log(AuthService.getCurrentUser());\n\n    if (user) {\n      this.setState({\n        currentUser: user,\n        isUser: user.Role.includes(\"ROLE_USER\"),\n        isStaff: user.Role.includes(\"ROLE_STAFF\"),\n        isAdmin: user.Role.includes(\"ROLE_ADMIN\")\n      });\n    }\n  }\n\n  retrieveReview(id) {\n    ReviewService.get(id).then(response => {\n      this.setState({\n        review: response.data[0]\n      }); //console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  editReview() {\n    const {\n      id\n    } = this.props.params;\n    const confirm = window.confirm(\"Are you sure you want edit this review?\");\n\n    if (confirm) {\n      window.location = `edit/${id}`;\n    }\n  }\n\n  deleteReview() {\n    const {\n      id\n    } = this.props.params;\n    const confirm = window.confirm(\"Are you sure you want delete this review?\");\n\n    if (confirm) {\n      ReviewService.delete(id).then(response => {\n        this.setState({\n          review: response.data\n        }); //console.log(response.data);\n      }).catch(e => {\n        console.log(e);\n      });\n      window.location = \"/\";\n    }\n  }\n\n  render() {\n    const {\n      review,\n      currentUser,\n      isAdmin,\n      isStaff\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bimbom\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [isAdmin || isStaff && review.IdUser === currentUser.Id ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.editReview,\n          className: \"btn btn-primary delete-review-btn\",\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this) : \"\", isAdmin || isStaff && review.IdUser === currentUser.Id ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.deleteReview,\n          className: \"btn btn-danger delete-review-btn\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this) : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"review-container\",\n        children: review && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"full-review\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: review.image,\n            style: {\n              width: \"800px\",\n              height: \"400px\"\n            },\n            alt: \"img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"review-title\",\n            children: review.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"title-div\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: review.review\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rating-reasoning\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rr-left\",\n              children: /*#__PURE__*/_jsxDEV(CircularProgressbar, {\n                value: review.rating,\n                styles: buildStyles({\n                  textSize: \"40px\",\n                  textColor: \"black\",\n                  pathColor: \"#eb3c2d\"\n                }),\n                strokeWidth: 8,\n                maxValue: 10,\n                text: `${review.rating}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rr-right\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: review.ratingReasoning\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _s(props => {\n  _s();\n\n  return /*#__PURE__*/_jsxDEV(ReviewComponent, { ...props,\n    params: useParams()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 27\n  }, this);\n}, \"zmUErVVHtqqM6DIDQ9M8H17P2nM=\", false, function () {\n  return [useParams];\n});","map":{"version":3,"names":["Component","useParams","ReviewService","buildStyles","CircularProgressbar","AuthService","ReviewComponent","constructor","props","retrieveReview","bind","deleteReview","editReview","state","review","isUser","isStaff","isAdmin","currentUser","undefined","componentDidMount","id","params","user","getCurrentUser","console","log","setState","Role","includes","get","then","response","data","catch","e","confirm","window","location","delete","render","IdUser","Id","image","width","height","title","rating","textSize","textColor","pathColor","ratingReasoning"],"sources":["/Users/rasmusmoller/Desktop/super-invention/frontend/src/components/ReviewComponent.js"],"sourcesContent":["import { Component } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport ReviewService from \"../services/review.services\";\nimport { buildStyles, CircularProgressbar } from \"react-circular-progressbar\";\nimport AuthService from \"../services/auth.services\";\n\nclass ReviewComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.retrieveReview = this.retrieveReview.bind(this);\n    this.deleteReview = this.deleteReview.bind(this);\n    this.editReview = this.editReview.bind(this);\n    this.state = {\n      review: {},\n      isUser: false,\n      isStaff: false,\n      isAdmin: false,\n      currentUser: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const { id } = this.props.params;\n    this.retrieveReview(id);\n\n    const user = AuthService.getCurrentUser();\n    console.log(AuthService.getCurrentUser());\n    if (user) {\n      this.setState({\n        currentUser: user,\n        isUser: user.Role.includes(\"ROLE_USER\"),\n        isStaff: user.Role.includes(\"ROLE_STAFF\"),\n        isAdmin: user.Role.includes(\"ROLE_ADMIN\"),\n      });\n    }\n  }\n\n  retrieveReview(id) {\n    ReviewService.get(id)\n      .then((response) => {\n        this.setState({\n          review: response.data[0],\n        });\n        //console.log(response.data);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }\n\n  editReview() {\n    const { id } = this.props.params;\n    const confirm = window.confirm(\"Are you sure you want edit this review?\");\n    if (confirm) {\n      window.location = `edit/${id}`;\n    }\n  }\n\n  deleteReview() {\n    const { id } = this.props.params;\n    const confirm = window.confirm(\"Are you sure you want delete this review?\");\n    if (confirm) {\n      ReviewService.delete(id)\n        .then((response) => {\n          this.setState({\n            review: response.data,\n          });\n          //console.log(response.data);\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n      window.location = \"/\";\n    }\n  }\n\n  render() {\n    const { review, currentUser, isAdmin, isStaff } = this.state;\n    return (\n      <div className=\"bimbom\">\n        <div>\n          {isAdmin || (isStaff && review.IdUser === currentUser.Id) ? (\n            <button\n              onClick={this.editReview}\n              className=\"btn btn-primary delete-review-btn\"\n            >\n              Edit\n            </button>\n          ) : (\n            \"\"\n          )}\n          {isAdmin || (isStaff && review.IdUser === currentUser.Id) ? (\n            <button\n              onClick={this.deleteReview}\n              className=\"btn btn-danger delete-review-btn\"\n            >\n              Delete\n            </button>\n          ) : (\n            \"\"\n          )}\n        </div>\n        <div className=\"review-container\">\n          {review && (\n            <div className=\"full-review\">\n              <img\n                src={review.image}\n                style={{ width: \"800px\", height: \"400px\" }}\n                alt=\"img\"\n              ></img>\n\n              <h3 className=\"review-title\">{review.title}</h3>\n              <div className=\"title-div\">\n                <p>{review.review}</p>\n              </div>\n              <div className=\"rating-reasoning\">\n                <div className=\"rr-left\">\n                  <CircularProgressbar\n                    value={review.rating}\n                    styles={buildStyles({\n                      textSize: \"40px\",\n                      textColor: \"black\",\n                      pathColor: \"#eb3c2d\",\n                    })}\n                    strokeWidth={8}\n                    maxValue={10}\n                    text={`${review.rating}`}\n                  />\n                </div>\n                <div className=\"rr-right\">\n                  <p>{review.ratingReasoning}</p>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default (props) => <ReviewComponent {...props} params={useParams()} />;\n"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,SAASC,WAAT,EAAsBC,mBAAtB,QAAiD,4BAAjD;AACA,OAAOC,WAAP,MAAwB,2BAAxB;;;AAEA,MAAMC,eAAN,SAA8BN,SAA9B,CAAwC;EACtCO,WAAW,CAACC,KAAD,EAAQ;IACjB,MAAMA,KAAN;IACA,KAAKC,cAAL,GAAsB,KAAKA,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAtB;IACA,KAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;IACA,KAAKE,UAAL,GAAkB,KAAKA,UAAL,CAAgBF,IAAhB,CAAqB,IAArB,CAAlB;IACA,KAAKG,KAAL,GAAa;MACXC,MAAM,EAAE,EADG;MAEXC,MAAM,EAAE,KAFG;MAGXC,OAAO,EAAE,KAHE;MAIXC,OAAO,EAAE,KAJE;MAKXC,WAAW,EAAEC;IALF,CAAb;EAOD;;EAEDC,iBAAiB,GAAG;IAClB,MAAM;MAAEC;IAAF,IAAS,KAAKb,KAAL,CAAWc,MAA1B;IACA,KAAKb,cAAL,CAAoBY,EAApB;IAEA,MAAME,IAAI,GAAGlB,WAAW,CAACmB,cAAZ,EAAb;IACAC,OAAO,CAACC,GAAR,CAAYrB,WAAW,CAACmB,cAAZ,EAAZ;;IACA,IAAID,IAAJ,EAAU;MACR,KAAKI,QAAL,CAAc;QACZT,WAAW,EAAEK,IADD;QAEZR,MAAM,EAAEQ,IAAI,CAACK,IAAL,CAAUC,QAAV,CAAmB,WAAnB,CAFI;QAGZb,OAAO,EAAEO,IAAI,CAACK,IAAL,CAAUC,QAAV,CAAmB,YAAnB,CAHG;QAIZZ,OAAO,EAAEM,IAAI,CAACK,IAAL,CAAUC,QAAV,CAAmB,YAAnB;MAJG,CAAd;IAMD;EACF;;EAEDpB,cAAc,CAACY,EAAD,EAAK;IACjBnB,aAAa,CAAC4B,GAAd,CAAkBT,EAAlB,EACGU,IADH,CACSC,QAAD,IAAc;MAClB,KAAKL,QAAL,CAAc;QACZb,MAAM,EAAEkB,QAAQ,CAACC,IAAT,CAAc,CAAd;MADI,CAAd,EADkB,CAIlB;IACD,CANH,EAOGC,KAPH,CAOUC,CAAD,IAAO;MACZV,OAAO,CAACC,GAAR,CAAYS,CAAZ;IACD,CATH;EAUD;;EAEDvB,UAAU,GAAG;IACX,MAAM;MAAES;IAAF,IAAS,KAAKb,KAAL,CAAWc,MAA1B;IACA,MAAMc,OAAO,GAAGC,MAAM,CAACD,OAAP,CAAe,yCAAf,CAAhB;;IACA,IAAIA,OAAJ,EAAa;MACXC,MAAM,CAACC,QAAP,GAAmB,QAAOjB,EAAG,EAA7B;IACD;EACF;;EAEDV,YAAY,GAAG;IACb,MAAM;MAAEU;IAAF,IAAS,KAAKb,KAAL,CAAWc,MAA1B;IACA,MAAMc,OAAO,GAAGC,MAAM,CAACD,OAAP,CAAe,2CAAf,CAAhB;;IACA,IAAIA,OAAJ,EAAa;MACXlC,aAAa,CAACqC,MAAd,CAAqBlB,EAArB,EACGU,IADH,CACSC,QAAD,IAAc;QAClB,KAAKL,QAAL,CAAc;UACZb,MAAM,EAAEkB,QAAQ,CAACC;QADL,CAAd,EADkB,CAIlB;MACD,CANH,EAOGC,KAPH,CAOUC,CAAD,IAAO;QACZV,OAAO,CAACC,GAAR,CAAYS,CAAZ;MACD,CATH;MAUAE,MAAM,CAACC,QAAP,GAAkB,GAAlB;IACD;EACF;;EAEDE,MAAM,GAAG;IACP,MAAM;MAAE1B,MAAF;MAAUI,WAAV;MAAuBD,OAAvB;MAAgCD;IAAhC,IAA4C,KAAKH,KAAvD;IACA,oBACE;MAAK,SAAS,EAAC,QAAf;MAAA,wBACE;QAAA,WACGI,OAAO,IAAKD,OAAO,IAAIF,MAAM,CAAC2B,MAAP,KAAkBvB,WAAW,CAACwB,EAArD,gBACC;UACE,OAAO,EAAE,KAAK9B,UADhB;UAEE,SAAS,EAAC,mCAFZ;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADD,GAQC,EATJ,EAWGK,OAAO,IAAKD,OAAO,IAAIF,MAAM,CAAC2B,MAAP,KAAkBvB,WAAW,CAACwB,EAArD,gBACC;UACE,OAAO,EAAE,KAAK/B,YADhB;UAEE,SAAS,EAAC,kCAFZ;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADD,GAQC,EAnBJ;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAuBE;QAAK,SAAS,EAAC,kBAAf;QAAA,UACGG,MAAM,iBACL;UAAK,SAAS,EAAC,aAAf;UAAA,wBACE;YACE,GAAG,EAAEA,MAAM,CAAC6B,KADd;YAEE,KAAK,EAAE;cAAEC,KAAK,EAAE,OAAT;cAAkBC,MAAM,EAAE;YAA1B,CAFT;YAGE,GAAG,EAAC;UAHN;YAAA;YAAA;YAAA;UAAA,QADF,eAOE;YAAI,SAAS,EAAC,cAAd;YAAA,UAA8B/B,MAAM,CAACgC;UAArC;YAAA;YAAA;YAAA;UAAA,QAPF,eAQE;YAAK,SAAS,EAAC,WAAf;YAAA,uBACE;cAAA,UAAIhC,MAAM,CAACA;YAAX;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA,QARF,eAWE;YAAK,SAAS,EAAC,kBAAf;YAAA,wBACE;cAAK,SAAS,EAAC,SAAf;cAAA,uBACE,QAAC,mBAAD;gBACE,KAAK,EAAEA,MAAM,CAACiC,MADhB;gBAEE,MAAM,EAAE5C,WAAW,CAAC;kBAClB6C,QAAQ,EAAE,MADQ;kBAElBC,SAAS,EAAE,OAFO;kBAGlBC,SAAS,EAAE;gBAHO,CAAD,CAFrB;gBAOE,WAAW,EAAE,CAPf;gBAQE,QAAQ,EAAE,EARZ;gBASE,IAAI,EAAG,GAAEpC,MAAM,CAACiC,MAAO;cATzB;gBAAA;gBAAA;gBAAA;cAAA;YADF;cAAA;cAAA;cAAA;YAAA,QADF,eAcE;cAAK,SAAS,EAAC,UAAf;cAAA,uBACE;gBAAA,UAAIjC,MAAM,CAACqC;cAAX;gBAAA;gBAAA;gBAAA;cAAA;YADF;cAAA;cAAA;cAAA;YAAA,QAdF;UAAA;YAAA;YAAA;YAAA;UAAA,QAXF;QAAA;UAAA;UAAA;UAAA;QAAA;MAFJ;QAAA;QAAA;QAAA;MAAA,QAvBF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EA4DD;;AApIqC;;AAuIxC,kBAAgB3C,KAAD;EAAA;;EAAA,oBAAW,QAAC,eAAD,OAAqBA,KAArB;IAA4B,MAAM,EAAEP,SAAS;EAA7C;IAAA;IAAA;IAAA;EAAA,QAAX;AAAA,CAAf;EAAA,QAA8DA,SAA9D;AAAA"},"metadata":{},"sourceType":"module"}